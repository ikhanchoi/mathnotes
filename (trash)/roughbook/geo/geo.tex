\documentclass[a4paper]{article}
\usepackage{../../../ikhanchoi}
\usepackage[margin=3cm]{geometry}
\usepackage[T1]{fontenc}
\usepackage[bitstream-charter,cal]{mathdesign}
\linespread{1.15}

\begin{document}
\tableofcontents







\newpage
\section{Topological group action}
\subsection{Discontinuous action}
mit 18.786 2018 number theory II

\begin{prb}
Let $G$ be a topological group acting on a topological space $X$.
Let $p:X\to X/G$ be the quotient map.

\begin{parts}
\item $p^{-1}(p(A))=\bigcup_{g\in G}gA$ for any $A\subset X$.
\item $p$ is open.
\item If $x\ne gx$, then there is an open neighborhood $U$ of $x$ such that $gU$ is disjoint to $U$.
\end{parts}
\end{prb}
\begin{pf}
(c)
Since $X$ is Hausdorff, there is disjoint open neighborhoods $U_0$ and $U_1$ respectively of $x$ and $gx$.
Then, $U:=g^{-1}(gU_0\cap U_1)\subset U_0$ and $gU=gU_0\cap U_1\subset U_1$ are disjoint.
\end{pf}

\begin{prb}[Proper maps]
Let $f:X\to Y$ be continuous.
We say $f$ is \emph{proper} if $f^{-1}(K)$ is compact for every compact $K$.
We say $f$ is \emph{Bourbaki-proper} if it is closed and proper.
If $X$ is Hausdorff and $Y$ is locally compact, then two notions are equivalent.
For this we only need to prove a proper map is closed.
\end{prb}
\begin{pf}

\end{pf}

\begin{prb}[Proper actions]
Let $G\times X\to X:(g,x)\mapsto gx$ be a continuous group action.
\begin{enumerate}[(i)]
\item The \emph{shear map} $s:G\times X\to X\times X:(g,x)\mapsto(x,gx)$ is and proper.\hfill{(Bourbaki properness)}
\item For every compact $K\subset X$, $\{g\in G:gK\cap K\ne\varnothing\}$ is compact.\hfill{(Borel properness)}
\item Every $x,y\in X$ have open neighborhoods $U_x,U_y$ such that $\{g\in G:gU_x\cap U_y\ne\varnothing\}$ is relatively compact.\hfill{(Wandering property)}
\end{enumerate}
\begin{parts}
\item (i) implies (ii).
\item (ii) implies (i) if $X$ is Hausdorff.
\item (i) implies (iii) if $X$ is locally compact and Hausdorff.
\item (iii) implies (i) if $G$ is locally compact and Hausdorff.
\end{parts}
\end{prb}
\begin{pf}
Write $\pi_G:G\times X\to G:(g,x)\mapsto g$.
Then, for $g\in G$ and subsets $A,B\subset X$, we can see
\[\{g\in G:gA\cap B\ne\varnothing\}=\pi_G(s^{-1}(A\times B)).\]
We note that (i) holds if and only if for every compact $K\subset X$ the set $s^{-1}(K\times K)$ is compact, and that (ii) holds if and only if for every compact $K\subset X$ the set $\pi_G(s^{-1}(K\times K))$ is compact.

(a) Clear.

(b) A compact set $K$ is closed in $X$.
Then,
\[s^{-1}(K\times K)\subset\pi_G(s^{-1}(K\times K))\times K\]
implies that $s^{-1}(K\times K)$ is closed in a compact set, so we have (i).
\end{pf}


half disk in Euclidean half plane has compact completion but not compact closure
If a subset of a topological Hausdorff group has compact completion, then it has compact closure..?


Properties of proper actions:
\begin{parts}
\item The orbit space $X/G$ is Hausdorff.
\item Every orbit is closed.
\item Every stabilizer is compact
\item The orbit-stabilizer bijection is a homeomorphism.
\item If $X$ is locally compact and Hausdorff, then so are $G$ and $X/G$.
\item If $X$ is compact and Hausdorff, then so are $G$ and $X/G$.
\end{parts}

\begin{prb}[Properly discontinuous actions]
Let $\Gamma\times X\to X:(g,x)\mapsto gx$ be a continuous group action.
\begin{enumerate}[(i)]
\item $\Gamma$ is discrete.
\item A family of singleton subsets of an orbit of the action $\Gamma\times X\to X$ is locally finite.
\item For every compact $K\subset X$, $\{g\in\Gamma:gK\cap K\ne\varnothing\}$ is finite.
\end{enumerate}
\begin{parts}
\item
\item (iii) implies (i) if the stabilizer is finite..?
\end{parts}
\end{prb}
\begin{pf}

\end{pf}




\begin{prb}[Covering space actions]
Let $G\times X\to X:(g,x)\mapsto gx$ be a continuous group action.
Let $p:X\to X/G$ be the quotient map.
This action is called a \emph{covering space action} if every $x\in X$ has a neighborhood $U$ such that $gU$ are all disjoint for $g\in G$.
\begin{parts}
\item A properly discontinuous and free action is a covering space action, if $X$ is locally compact and Hausdorff.
\item A covering space action is properly discontinuous.
\item A covering space action is free.
\end{parts}
\end{prb}
\begin{pf}
(a)
Fix $x\in X$ and let $K$ be a compact neighborhood of $x$.
By the proper discontinuity, there is a finite subset $F\subset G$ such that $gK$ intersects $K$ only for $g\in F$.
Because the action is free, for every $g\in F\setminus\{1\}$ there is an open neighborhood $U_g$ of $x$ such that $gU_g\cap U_g=\varnothing$.
Then, $U:=K^\circ\cap\bigcap_{g\in F\setminus\{1\}}U_g$ satisfies $gU\cap U=\varnothing$.

(b)

\end{pf}



\subsection{Fundamental domain}




\begin{prb}[Fundamental domain]
Let $G$ be the group of isometries of a metric space $X$.
Let $\Gamma$ be a discrete subgroup of $G$.
An open set $D\subset X$ is called a \emph{fundamental domain} of $\Gamma$ if
\begin{enumerate}[(i)]
\item $\{g(D):g\in\Gamma\}$ are pairwise disjoint,
\item $\{g(\bar D):g\in\Gamma\}$ covers $X$.
\end{enumerate}
\end{prb}


\begin{prb}[Sides of Dirichlet domain]
Let $\Gamma$ be a Fuchsian group, and let $D$ be a Dirichlet domain of $\Gamma$ with center $z_0$.
A \emph{side} of a polytope is a non-empty maximal convex subset of its boundary.
\begin{parts}
\item For $g\in\Gamma\setminus\{e\}$, the set $g(\bar D)\cap\bar D$ has the three cases: the null set, one point, or a geodesic segment.
\item If $s$ is a side of $\bar D$, then there is unique $g\in\Gamma\setminus\{e\}$ such that $s=g(\bar D)\cap\bar D$.
\item The intersection of two distinct edges is one point or the null set.
\item We have
\[\partial D\cap\H^2\subset\bigcup_{g\in\Gamma\setminus\{e\}}g(\bar D)\cap\bar D.\]
\item We have
\[\partial D\cap\H^2\subset\bigcup_{s:\text{ side}}s.\]
\end{parts}
\end{prb}
\begin{pf}
(d)
Let $z\in\partial D\cap\H^2$.
Since $d(z,z_0)\le d(z,gz_0)$ for all $g\in\Gamma\setminus\{e\}$ but $d(z,z_0)\ge d(z,gz_0)$ for some $g\in\Gamma\setminus\{e\}$, there is $g\in\Gamma\setminus\{e\}$ such that $d(z,z_0)=d(z,gz_0)$.
By sending $z_0$ and $gz_0$ to $\pm1+i$ with an isometry so that $z$ is sended to a point on a imaginary axis, we can check for each $n$ that we have $B(z,1/n)\cap(\H^2\setminus\bar D)\ne\varnothing$.
Since $B(z,1/n)\setminus\bar D$ is a non-empty open set in $\H^2\setminus\bar D$, and since
\[\H^2\setminus\bar D\subset\H^2\setminus D=\bar{\bigcup_{g\in\Gamma\setminus\{e\}}g(D)},\]
we can deduce that $B(z,1/n)$ intersects with $g(D)$ for some $g\in\Gamma\setminus\{e\}$.

Combining this result with the local finiteness of $\{g(D):g\in\Gamma\}$, the sequence of sets
\[\{\,g\in\Gamma\setminus\{e\}:B(z,1/n)\cap g(D)\ne\varnothing\,\}\]
indexed by $n$ consists of non-empty finite subsets of $\Gamma\setminus\{e\}$ that are non-increasing.
By the pigeonhole principle, there exists $g\in\Gamma\setminus\{e\}$ such that $B(z,1/n)\cap g(D)\ne\varnothing$ for all $n$, which allows to extract a sequence $z_n\in g(D)$ that converges to $z$, which implies $z\in g(\bar D)$.

(e)
Suppose $z\in\partial D\cap\H^2$ is not contained in any edges.
Let $Z$ be the set of all $g\in\Gamma\setminus\{e\}$ such that $\{z\}=g(\bar D)\cap\bar D$.
For $g\in\Gamma\setminus(Z\cup\{e\})$, $g(\bar D)\cap\bar D$ is the null set, one point, or an edge, and any of possibility does not contain $z$.
Therefore,
\[(\partial D\setminus\{z\})\cap\H^2=\bigcup_{g\in\Gamma\setminus(Z\cup\{e\})}(g(\bar D)\cap\bar D)\cap\H^2\]
by the part (d).
Change the restriction $\H^2$ to a compact ball as
\[(\partial D\setminus\{z\})\cap\bar{B(z,1)}=\bigcup_{g\in\Gamma\setminus(Z\cup\{e\})}(g(\bar D)\cap\bar D)\cap\bar{B(z,1)}.\]
Then, the left-handed side is homeomorphic to $[-1,0)\cup(0,1]$ or $(-1,1)$ since $\partial D$ is homeomorphic to $S^1$, but the right-handed side is compact because the union becomes finite due to the local finiteness.
This is a contradiction, so $z$ is contained in an edge.
\end{pf}

\begin{prb}[Dirichlet domain]
Let $\Gamma$ be a discrete subgroup of $\Isom^+(\H^n)$.
Let $z_0\in\H^n$ be a point that is not fixed by any isometry in $\Gamma\setminus\{e\}$. % i.e. a non-elliptic point.
The \emph{Dirichlet domain} of $\Gamma$ with \emph{center} $z_0$ is defined as the set
\[D:=\bigcap_{g\in\Gamma\setminus\{e\}}\{\,z\in\H^2:d(z,z_0)<d(z,gz_0)\,\}.\]
We denote by $\bar D$ and $\partial D$ the closure and the boundary of $D$ in $\bar\H^2$.
\begin{parts}
\item There exists a non-elliptic point in $\H^2$.
\item $\{g(\bar D):g\in\Gamma\}$ is a locally finite. It is called the \emph{Dirichlet tesselation}.
\item $D$ is a geodesically convex locally finite fundamental domain of $\Gamma$.
\end{parts}
\end{prb}
\begin{pf}
(a)
Elliptic points are countably many.

(b)
There are finitely many $g\in\Gamma$ satisfying $B(z_0,r)\cap g(\bar D)\ne\varnothing$, since this condition implies $gz_0\in B(z_0,2r)$.
\end{pf}



\begin{prb}[Convex polytope]
See Ratcliffe Section 6.3.
Convexity is not really necessary, but it is extremely useful and sufficient in developing the theory of fundamental domains.

Let $P$ be a non-empty closed subset of a metric space $X$.
A \emph{side} of $P$ is a non-empty maximal convex subset of $\partial P$.
We say $P$ is a \emph{polytope} if the set of sides of $P$ is locally finite.
\begin{parts}
\item dimension..? vertices, ridges..
\item property of sides: cover boundary, closed, polytope again etc.
\item a point in the boundary of a side is in the boundary of another side.
\end{parts}
\end{prb}

\begin{prb}[Convex fundamental polytope]
\begin{parts}
\item The closure of a convex and locally finite fundamental domain is a convex polytope.
\item (side pairing)
Suppose $P$ is a convex fundamental polytope of $\Gamma$ having finitely many sides.
Let $v_0,v_1,\cdots,v_n=v_0$ be vertices, indexed along the boundary counterclockwise.
Let $s_i$ be the side of $P$ connecting $v_i$ and $v_{i+1}$.

For each side $s$ of $P$, there is unique $g_s\in\Gamma$ such that $g_s^{-1}(s)$ is another side of $D$. The isometry $g_s$ is called the \emph{side pairing isometry} of the side $s$.

The side parining isometry of $g_s^{-1}(s)$ is $g_s^{-1}$.
\item (cycles)
Let $V$ and $S$ be the set of all vertices and sides of $P$, respectively.
Define $\sigma:V\to V$ such that $\sigma(v_i)=v_{j+1}$, where $s_j=g_{s_i}^{-1}(s_i)$.
The map $\sigma$ can be seen as an element of the symmetric group $S_n$.

Suppose $v_0\in\H^2$ and $s=s_0$. Let $m$ be the minimal positive integer such that $\sigma^m(s)=s$. Then, $g_{\sigma^{m-1}(s)}\cdots g_{\sigma(s)}g_s$ is either the identity or elliptic.
Suppose $v_0\in\partial\H^2$.
\end{parts}
\end{prb}


\begin{prb}[Examples]
\begin{parts}
\item (Genus two surface)
\item (Modular group)
Let $\Gamma=\PSL(2,\Z)$ be the modular group and choose the origin $2i$ to consider the Dirichlet domain $D$.
\[T=\mat{1&1\\0&1},\quad S=\mat{0&-1\\1&0}.\]
\[v_0:=\rho=e^{\pi i/3},\quad v_1:=\infty,\quad v_2:=\rho^2=e^{2\pi i/3}.\]
\[g_0=T,\quad g_1=T^{-1},\quad g_2=S=S^{-1}.\]
$\sigma=(02)$.
The elliptic cycle condition: $(02)$ defines $(g_2g_0)^3=(ST)^3=1$.
\end{parts}
\end{prb}





\section{Hyperbolic plane geometry}
\subsection{Fuchsian groups and Kleinian groups}
Classification of elements.
An abelian Fuchsian group is cyclic.
Elliptic point is discrete

free action <=> no elliptic element <=> torsion free <=> manifold




\begin{prb}[Finitely generated Fuchsian group]
Let $\Gamma$ be a Fuchsian group, and let $D$ be a Dirichlet domain of $\Gamma$ with center $z_0$.
Let $W$ be the set of all $g\in\Gamma\setminus\{e\}$ such that $g(\bar D)\cap\bar D$ is a side of $D$.
\begin{parts}
\item $W$ generates $\Gamma$.
\item If $\Gamma$ is finitely generated, then $W$ is finite.
\item If $W$ is finite, then $\Gamma$ is finitely generated.
\end{parts}
\end{prb}

\begin{prb}[Siegel's theorem]
Finite area then finite sides.
\begin{parts}
\item
\end{parts}
\end{prb}



\subsection{The Poincar\'e polygon theorem}





\begin{prb}[Side pairing identification]
Let $P$ be a convex polygon.
Define cycles of each vertex.
Let
\[Y:=P/\sim,\quad\text{ and }\quad\tilde Y:=(\Gamma\times P)/\sim.\]
Define $\Pi:\tilde Y\to Y$.
\begin{parts}
\item
\end{parts}
\end{prb}


\begin{prb}[Elliptic cycle condition]
Let $P$ be a convex polygon with a side pairing identification.
Let $\Gamma$ be a subgroup of $\Isom^+(\H^2)$ generated by side pairing isometries of $P$.
Consider $D$ and $\Pi$ such that
\begin{cd}
\tilde Y\dar{\Pi}\rar{D} & \H^2\\
Y&.
\end{cd}
\begin{parts}
\item $P$ satisfies the elliptic cycle condition.
\item $D$ is a local homeomorphism.
\item $D$ is a covering map onto its image.
\end{parts}
\end{prb}
\begin{pf}
(a)$\Rightarrow$(b)

(b)$\Rightarrow$(c)
We claim $p$ has the path lifting property, which is unique because it is a local homeomorphism.
Let $w:[0,1]\to\im D$, and $\tilde w:[0,\tau)\to\tilde Y$ its maximal extension.
Write $\tilde w(t)=[g(t),z(t)]$ and $w(\tau)=gz$.
Define $\tilde w(\tau):=[g,z]$.
Then,
\[D\tilde w(\tau)=D([g,z])=gz=w(\tau).\]
Let $U$ be an open neighborhood of $[g,z]$ in $\tilde Y$ such that $D|_U$ is a homeomorphism and $D(U)$ is open in $\H^2$.
Then, as $t\to\tau$,
\[p\tilde w(t)=w(t)\to w(\tau)=p\tilde w(\tau)\]
implies
\[\tilde w(t)\to\tilde w(\tau),\]
so $\tilde w:[0,\tau]\to\tilde Y$ is a continuous extension of $w:[0,\tau]\to\H^2$.
Therefore, $D$ is a local homeomorphism that has the unique path lifting property, so it is a covering map onto its image.
\end{pf}

\begin{prb}[Finite cycle condition]
Let $P$ be a convex polygon with a side pairing identification.
Let $\Gamma$ be a subgroup of $\Isom^+(\H^2)$ generated by side pairing isometries of $P$.
Consider $D$ and $\Pi$ such that
\begin{cd}
\tilde Y\dar{\Pi}\rar{D} & \H^2\\
Y&.
\end{cd}
\begin{parts}
\item If every cycle of finite points is finite, then $\im D$ is open.
\item If every cycle is finite, then there is a metric $\rho$ on $Y$ such that $[z_n]\to[z]$ in $\rho$ if and only if $h_nz_n\to z$ in $\H^2$ for a sequence $h_n\in\Gamma$.
\end{parts}
\end{prb}
\begin{pf}
\[\rho(x,y):=\inf\sum,\]
\[\inf_{h\in\Gamma}d(h^{-1}z,z')=\rho([z],[z'])\]
\end{pf}

\begin{prb}[Parabolic cycle condition]
Let $P$ be a convex polygon with a side pairing identification.
Let $\Gamma$ be a subgroup of $\Isom^+(\H^2)$ generated by side pairing isometries of $P$.
Consider $D$ and $\Pi$ such that
\begin{cd}
\tilde Y\dar{\Pi}\rar{D} & \H^2\\
Y&.
\end{cd}
Suppose every cycle is finite.
\begin{parts}
\item $P$ satisfies the parabolic cycle condition,
\item $M$ is a complete metric space.
\item $D$ is surjective.
\end{parts}
\end{prb}
\begin{pf}
(b)$\Rightarrow$(c)
Let $w\in\partial(\im D)$ so that we have $[g_n,z_n]\in\tilde Y$ such that $g_nz_n\to w$ in $\H^2$.
Since $g_nz_n$ is Cauchy, $[z_n]$ is also Cauchy, so we have a limit $[z_n]\to[z]$ in $Y$.
Then, there exists a sequence $h_n\in\Gamma$ such that $h_nz_n\to z$ in $\H^2$, which implies $g_nh_n^{-1}z\to w$ in $\H^2$ and $w\in\bar{\Gamma z}$.
Since $\im D$ is open and $\bar P\subset\im D$, there is $\e>0$ such that $B(z,\e)\subset\im D$.
There is $g\in\H^2$ such that $d(gz,w)<\e$, which implies $g^{-1}w\in B(z,\e)$.
Because $\Gamma$ acts on $\im D$, we can conclude $w\in\im D$.
\end{pf}

If $P$ satisfies the cycle conditions,
\begin{parts}
\item $\Gamma$ is discrete.
\item $\Gamma$ is given by the presentation $\<S|R\>$, where $S$ is the set of side-pairing isometries and $R$ is the set of cycle relations.
\item $P$ is a fundamental domain of $\Gamma$
\item $Y\cong\H^2/\Gamma$.
\end{parts}



\subsection{Geometric structures}





A geodesically connected and geodesically complete space is rigid.


\begin{prb}[Continuation of path]
Let $M$ be a $(G,X)$-manifold, $\f:U\to X$ a chart, and $\gamma:[0,1]\to M$ a path.
There is a partition $(t_i)_{i=0}^m$ of the interval $[0,1]$ with $t_0=0$, $t_m=1$ and a sequence of chart $(\f_i:U_i\to X)_{i=0}^{m-1}$ with $\f_0=\f$ such that $\gamma([t_{i-1},t_i])\subset U_i$.
Since $\tau_{i+1,i}\circ\f_{i+1}\circ\gamma(t_{i+1})=\f_i\circ\gamma(t_{i+1})$, we can define a path $\hat\gamma:[0,1]\to X$ by
\[\hat\gamma(t):=\tau_{1,0}\circ\cdots\circ\tau_{i,i-1}\circ\f_i\circ\gamma|_{[t_i,t_{i+1}]}(t)\]
for $t\in[t_i,t_{i+1}]$, where $\tau_{i+1,i}=\f_i\circ\f_{i+1}^{-1}$ are transition maps.
The path $\hat\gamma$ is called the \emph{continuation} of $\f\circ\gamma$.
\begin{parts}
\item $\hat\gamma$ does not depend on the choice of the sequence of charts when the partition is given.
\item $\hat\gamma$ does not depend on the choice of the partition.
\item If $\gamma_0$ and $\gamma_1$ are homotopic fixing endpoints, then their continuations are also homotopic fixing endpoints.
\end{parts}
\end{prb}

\begin{prb}[Developing map]
Let $M$ be a connected $(G,X)$-manifold, $\tilde M$ the universal covering of $M$, and $\f:U\to X$ a chart on $\tilde M$.
\end{prb}

\begin{prb}[Holonomy]
Let $M$ be a connected $(G,X)$-manifold, $\tilde M$ the universal covering of $M$, and $\f:U\to X$ a chart on $\tilde M$.

$h:\pi_1(M)\to G$.
\begin{parts}
\item If $f_0,f_1:\tilde M\to X$ are $(G,X)$-maps, then there is a unique $g\in G$ such that $f_1=gf_0$.
\item For $H\le G$, $M$ admits a $(H,X)$-structure if and only if $\im h\subset H$.
\end{parts}
\end{prb}








\newpage
\section{Universal coefficient theorem}
\begin{lem}
Suppose we have a flat resolution
\begin{es}
0\>P_1\>P_0\>A\> 0.
\end{es}
Then, we have a exact sequence
\begin{es}
\cdots\>0\>\Tor_1^R(A,B)\>P_1\otimes B\>P_0\otimes B\>A\otimes B\>0.
\end{es}
\end{lem}


\begin{thm}
Let $R$ be a PID.
Let $C_\bullet$ be a chain complex of flat $R$-modules and $G$ be a $R$-module.
Then, we have a short exact sequence
\begin{es}
0\>H_n(C)\otimes G\>H_n(C;G)\>\Tor(H_{n-1}(C),G)\>0,
\end{es}
which splits, but not naturally.
\end{thm}

\begin{pf}[1]
We have a short exact sequence of chain complexes
\begin{es}
0\>Z_\bullet\>C_\bullet\>B_{\bullet-1}\>0
\end{es}
where every morphism in $Z_\bullet$ and $B_\bullet$ are zero.
Since modules in $B_{\bullet-1}$ are flat, we have a short exact sequence
\begin{es}
0\>Z_\bullet\otimes G\>C_\bullet\otimes G\>B_{\bullet-1}\otimes G\>0
\end{es}
and the associated long exact sequence
\begin{es}
\,\>H_n(B;G)\>H_n(Z;G)\>H_n(C;G)\>H_{n-1}(B;G)\>H_{n-1}(Z;G)\>\,
\end{es}
where the connecting homomomorphisms are of the form $(i_n\colon B_n\to Z_n)\otimes1_G$ (It is better to think diagram chasing than a natural construction).
Since morhpisms in $B$ and $Z$ are zero (if it is not, then the short exact sequence of chain complexes are not exact, we have
\begin{es}
\,\>B_n\otimes G\>Z_n\otimes G\>H_n(C;G)\>B_{n-1}\otimes G\>Z_{n-1}\otimes G\>\,.
\end{es}
Since
\begin{es}
0\>\Tor_1^R(H_n,G)\>B_n\otimes G\>Z_n\otimes G\>H_n\otimes G\>0
\end{es}
for all $n$, the exact sequence splits into short exact sequence by images
\begin{es}
0\>H_n\otimes G\>H_n(C;G)\>\Tor_1^R(H_{n-1},G)\>0.
\end{es}

For splitting,
\end{pf}

\begin{pf}[2]
Since $R$ is PID, we can construct a flat resolution of $G$
\begin{es}
0\>P_1\>P_0\>G\>0.
\end{es}
Since modules in $C_\bullet$ are flat so that the tensor product functors are exact and $P_1\to P_0$ and $P_0\to G$ induce the chain maps, we have a short exact sequence of chain complexes
\begin{es}
0\>C_\bullet\otimes P_1\>C_\bullet\otimes P_0\>C_\bullet\otimes G\>0.
\end{es}
Then, we have the associated long exact sequence
\begin{es}
\,\>H_n(C;P_1)\>H_n(C;P_0)\>H_n(C;G)\>H_{n-1}(C;P_1)\>H_{n-1}(C;P_0)\>\,.
\end{es}
Since flat tensor product functor commutes with homology funtor from chain complexes, we have
\begin{es}
\,\>H_n\otimes P_1\>H_n\otimes P_0\>H_n(C;G)\>H_{n-1}\otimes P_1\>H_{n-1}\otimes P_0\>\,.
\end{es}
Since
\begin{es}
0\>\Tor_1^R(G,H_n)\>H_n\otimes P_1\>H_n\otimes P_0\>H_n\otimes G\>0
\end{es}
for all $n$, the exact sequence splits into short exact sequence by images
\begin{es}
0\>H_n\otimes G\>H_n(C;G)\>\Tor_1^R(G,H_{n-1})\>0.
\end{es}
\end{pf}

Proof 3.
By tensoring $G$, we get the following diagram.
\begin{cd}[row sep={24pt,between origins}, column sep={36pt,between origins}]
H_n\otimes G  \ar{ddr}  &&&& H_{n-1}\otimes G \\
&&&& \\
& \coker\pd_{n+1}\otimes G  \ar[->>]{ddr} && \ker\pd_{n-1}\otimes G  \ar[->>]{uur}\ar{dr} & \\
C_n\otimes G  \ar[->>]{ur}\ar[->>]{drr} &&&& C_{n-1}\otimes G \\
&& \im\pd_n\otimes G  \ar{uur}\ar{urr} && \\
&&&& \\
&\Tor_1(H_{n-1},G)\ar[>->]{uur}&&&
\end{cd}
Every aligned set of consecutive arrows indicates an exact sequence.
Notice that epimorphisms and cokernals are preserved, but monomorphisms and kernels are not.
Especially, $\coker\pd_{n+1}\otimes G=\coker(\pd_{n+1}\otimes1_G)$ is important.

Consider the following diagram.
\begin{cd}[row sep={30pt,between origins}, column sep={60pt,between origins}]
H_n(C;G) \ar[>->]{dr} & H_n\otimes G \ar{d}&&&\\
& \coker\pd_{n+1}\otimes G \ar[->>]{dd}\ar[->>]{ddrr} && \ker\pd_{n-1}\otimes G \ar{dr}{\text{monic!}} & \\
&&&& C_{n-1}\otimes G \\
& \im\pd_n\otimes G \ar{uurr} && \im(\pd_n\otimes1_G) \ar[>->]{ur}\ar[dashed,>->]{uu} & \\
\Tor_1(H_{n-1},G) \ar[>->]{ur} &&&&
\end{cd}
Since $\ker\pd_{n-1}$ is free, 

If we show $\im(\pd_n\otimes1_G)\to\ker\pd_{n-1}\otimes G$ is monic, then we can get
\begin{align*}
H_n(C;G)&=\ker(\coker\pd_{n+1}\otimes G\to\im(\pd_n\otimes1_G))\\
&=\ker(\coker\pd_{n+1}\otimes G\to\ker\pd_{n-1}\otimes G).
\end{align*}





\section{Fundamental differential geometry}

\subsection{Manifold and Atlas}
\begin{defn}
A \emph{locally Euclidean space} $M$ of dimension $m$ is a Hausdorff topological space $M$ for which each point $x\in M$ has a neighborhood $U$ homeomorphic to an open subset of $\R^d$.
\end{defn}
\begin{defn}
A \emph{manifold} is a locally Euclidean space satisfying the one of following equivalent conditions: second countability, blabla%
\end{defn}

\begin{defn}
A \emph{chart} or a \emph{coordinate system} for a locally Euclidean space is a map $\varphi$ is a homeomorphism from an open set $U\subset M$ to an open subset of $\R^d$.
A chart is often written by a pair $(U,\varphi)$.
\end{defn}

\begin{defn}
An \emph{atlas} $\mathcal{F}$ is a collection $\mathcal{F}=\{(U_\alpha,\varphi_\alpha)\mid\alpha\in A\}$ of charts on $M$ such that $\bigcup_{\alpha\in A} U_\alpha=M$.
\end{defn}


\begin{defn}
A \emph{differentiable maifold} is a manifold on which a differentiable structure is equipped.
\end{defn}
The definition of differentiable structure will be given in the next subsection.
Actually, a differentiable structure can be defined for a locally Euclidean space.



\subsection{Definition of Differentiable Structure}


\begin{defn}
An atlas $\mathcal{F}$ is called \emph{differentiable} if any two charts $\varphi_\alpha,\varphi_\beta\in\mathcal{F}$ is \emph{compatible}: each \emph{transition function} $\tau_{\alpha\beta}\colon\varphi_\alpha(U_\alpha\cap U_\beta)\to\varphi_\beta(U_\alpha\cap U_\beta)$ which is defined by $\tau_{\alpha\beta}=\varphi_\beta\circ\varphi_\alpha^{-1}$ is differentiable.
\end{defn}
It is called a \emph{gluing condition}.

\begin{defn}
For two differentiable atlases $\mathcal{F},\mathcal{F}'$, the two atlases are \emph{equivalent} if $\mathcal{F}\cup\mathcal{F}'$ is also differentiable.
\end{defn}

\begin{defn}
An differentiable atlas $\mathcal{F}$ is called \emph{maximal} if the following holds:
if a chart $(U,\varphi)$ is compatible to all charts in $\mathcal{F}$, then $(U,\varphi)\in\mathcal{F}$.
\end{defn}

\begin{defn}
A \emph{differentiable structure} on $M$ is a maximal differentiable atlas.
\end{defn}

To differentiate a function on a flexible manofold, first we should define the differentiability of a function.
A differentiable structure, which is usually defined by a maximal differentiable atlas, is roughly a collection of differentiable functions on $M$.
When the charts is already equipped on $M$, it is natural to define a function $f\colon M\to\R$ differentiable if the functions $f\circ\varphi^{-1}\colon\R^d\to\R$ is differentiable.

The gluing condition makes the differentiable function for a chart is also differentiable for any charts because $f\circ\varphi_\alpha^{-1}=(f\circ\varphi_\beta^{-1})\circ(\varphi_\beta\circ\varphi_\alpha^{-1})
=(f\circ\varphi_\beta^{-1})\circ\tau_{\alpha\beta}$.
If a function $f$ is differentiable on an atlas $\mathcal{F}$, then $f$ is also differentiable on any atlases which is equivalent to $\mathcal{F}$ by the definition of the equivalence relation for differential atlases.
We can construct the equivalence classes respected to this equivalence relation.

Therefore, we want to define a differentiable structure as a one of the equivalence classes.
However the differentiable structure is frequently defined as a maximal atlas for the convenience since each equivalence class is determined by a unique maximal atlas.

\begin{ex}
While the circle $S^1$ has a unique smooth structure, $S^7$ has 28 smooth structures.
The number of smooth structures on $S^4$ is still unknown.
\end{ex}

\begin{defn}
A continuous function $f\colon M\to N$ is differentiable if $\psi\circ f\circ\varphi^{-1}$ is differentiable for charts $\varphi,\psi$ on $M,N$ respectively.
\end{defn}


\subsection{Curves}

\begin{defn}
For $f\colon M\to\R$ and $(U,\phi)$ a chart,
\[df\left(\pd{x^\mu}\right):=\pd{f\circ\phi^{-1}}{x^\mu}.\]
\end{defn}



\begin{defn}
Let $\gamma\colon I\to M$ be a smooth curve.
Then, $\dot\gamma(t)$ is defined by a tangent vector at $\gamma(t)$ such that
\[\dot\gamma(t):=d\gamma\left(\pd{t}\right).\]
Let $\phi\colon M\to N$ be a smoth map.
Then, $\phi(t)$ can refer to a curve on $N$ such that
\[\phi(t):=\phi(\gamma(t)).\]
Let $f\colon M\to\R$ be a smooth function.
Then, $\dot f(t)$ is defined by a function $\R\to\R$ such that
\[\dot f(t):=\dd{t}f\circ\gamma.\]
\end{defn}

\begin{prop}
Let $\gamma\colon I\to M$ be a smooth curve on a manifold $M$.
The notation $\dot\gamma^\mu$ is not confusing thanks to
\[(\dot\gamma)^\mu=\dot{(\gamma^\mu)}.\]
In other words,
\[dx^\mu(\dot\gamma)=\dd{t}x^\mu\circ\gamma.\]
\end{prop}


\subsection{Connection computation}

\begin{align*}
\nabla_XY&=X^\mu\nabla_\mu(Y^\nu\pd_\nu)\\
&=X^\mu(\nabla_\mu Y^\nu)\pd_\nu+X^\mu Y^\nu(\nabla_\mu\pd_\nu)\\
&=X^\mu\left(\pd{Y^\nu}{x^\mu}\right)\pd_\nu+X^\mu Y^\nu(\Gamma_{\mu\nu}^\lambda\pd_\lambda)\\
&=X^\mu\left(\pd{Y^\nu}{x^\mu}+\Gamma_{\mu\lambda}^\nu Y^\lambda\right)\pd_\nu.
\end{align*}
The covariant derivative $\nabla_XY$ does not depend on derivatives of $X^\mu$.

\[Y^\nu_{,\mu}=\nabla_\mu Y^\nu=\pd{Y^\nu}{x^\mu},\qquad Y^\nu_{;\mu}=(\nabla_\mu Y)^\nu=\pd{Y^\nu}{x^\mu}+\Gamma_{\mu\lambda}^\nu Y^\lambda.\]
\begin{thm}
For Levi-civita connection for $g$,
\[\Gamma^l_{ij}=\frac12(\pd_ig_{jk}+\pd_jg_{ki}-\pd_kg_{ij}).\]
\end{thm}
\begin{pf}
\begin{align*}
(\nabla_ig)_{jk}&=\pd_ig_{jk}-\Gamma^l_{ij}g_{lk}-\Gamma^l_{ik}g_{jl}\\
(\nabla_jg)_{kl}&=\pd_jg_{kl}-\Gamma^l_{jk}g_{li}-\Gamma^l_{ji}g_{kl}\\
(\nabla_kg)_{ij}&=\pd_kg_{ij}-\Gamma^l_{ki}g_{lj}-\Gamma^l_{kj}g_{il}\\
\end{align*}
If $\nabla$ is a Levi-civita connection, then $\nabla g=0$ and $\Gamma_{ij}^k=\Gamma_{ji}^k$.
Thus,
\[\Gamma^l_{ij}g_{kl}=\frac12(\pd_ig_{jk}+\pd_jg_{ki}-\pd_kg_{ij}).\]
\[\Gamma^l_{ij}=\frac12g^{kl}(\pd_ig_{jk}+\pd_jg_{ki}-\pd_kg_{ij}).\]
\end{pf}



\subsection{Geodesic equation}

\begin{thm}
If $c$ is a geodesic curve, then components of $c$ satisfies a second-order differential equation
\[\dd[2]{\gamma^\mu}{t}+\Gamma_{\nu\lambda}^\mu\dd{\gamma^\nu}{t}\dd{\gamma^\lambda}{t}=0.\]
\end{thm}
\begin{pf}
Note
\[0=\nabla_{\dot\gamma}\dot\gamma=\dot\gamma^\mu\nabla_\mu(\dot\gamma^\lambda\pd_\lambda)
=(\dot\gamma^\nu\pd_\nu\dot\gamma^\mu+\dot\gamma^\nu\dot\gamma^\lambda\Gamma_{\nu\lambda}^\mu)\pd_\mu.\]
Since
\[\dot\gamma^\nu\pd_\nu\dot\gamma^\mu=\dot\gamma(\dot\gamma^\mu)=d\dot\gamma^\mu(\dot\gamma)=d\dot\gamma^\mu\circ d\gamma\left(\pd{t}\right)=d\dot\gamma^\mu\left(\pd{t}\right)=\ddot\gamma^\mu,\]
we get a second-order differential equation
\[\dd[2]{\gamma^\mu}{t}+\Gamma_{\nu\lambda}^\mu\dd{\gamma^\nu}{t}\dd{\gamma^\lambda}{t}=0\]
for each $\mu$.
\end{pf}





\section{Bundles}
Show that $S^n$ has a nonvanishing vector field if and only if $n$ is odd.
\begin{sol}
Since $S^n$ is embedded in $\R^{n+1}$, the tangent bundle $TS^n$ can be considered as an embedded manifold in $S^n\times\R^{n+1}$ which consists of $(x,v)$ such that $\<x,x\>=1$ and $\<x,v\>=0$, where the inner product is the standard one of $\R^{n+1}$.

Suppose $n$ is odd.
We have a vector field
$(x_1,x_2,\cdots,x_{n+1};x_2,-x_1,\cdots,-x_n)$
which is nonvanishing.

Conversely, suppose we have a nonvanishing vector field $X$.
Consider a map
\[\phi:S^n\xrightarrow{X}TS^n\to S^n\times\R^{n+1}\to{\phi}\R^{n+1}\to S^n.\]

The last map can be defined since $X$ is nowhere zero. Since this map satisfies $\<x,\phi(x)\>=0$ for all $x\in S^n$, we can define homotopies from $\phi$ to the identity map and the antipodal map respectively. Therefore, the antipodal map must have positive degree, $+1$, so $n$ is odd.
\end{sol}


\begin{prop}
Independent commuting vector fields are realized as partial derivatives in a chart.
\end{prop}

\begin{prop}
Let $\{\pd_1,\cdots,\pd_k\}$ be an independent involutive vector fields.
We can find independent commuting $\{\pd_{k+1},\cdots,\pd_n\}$ such that union is independent.
(Maybe)
\end{prop}
\begin{prop}
Let $\{\pd_1,\cdots,\pd_k\}$ be an independent commuting vector fields.
We can find independent commuting $\{\pd_{k+1},\cdots,\pd_n\}$ such that union is independent and commuting.
(Maybe)
\end{prop}

\bigskip



The following theorem says that image of immersion is equivalent to kernel of submersion.
\begin{prop}
An immersed manifold is locally an inverse image of a regular value.
\end{prop}

\begin{prop}
A closed submanifold with trivial normal bundle is globally an inverse image of a regular value.
\end{prop}
\begin{pf}
It uses tubular neighborhood.
Pontryagin construction?
\end{pf}

\begin{prop}
An immersed manifold is locally a linear subspace in a chart.
\end{prop}

\begin{prop}
Distinct two points on a connected manifold are connected by embedded curve.
\end{prop}
\begin{pf}
Let $\gamma:I\to M$ be a curve connecting the given two points, say $p,q$.

\Step[1]{Constructing a piecewise linear curve}
For $t\in I$, take a convex chart $U_t$ at $\gamma(t)$.
Since $I$ is compact, we can choose a finite $\{t_i\}_i$ such that $\bigcup_i\gamma^{-1}(U_{t_i})=I$.
This implies $\im\gamma\subset\bigcup_iU_{t_i}$.
Reorganize indices such that $\gamma(t_1)=p$, $\gamma(t_n)=q$, and $U_{t_i}\cap U_{t_{i+1}}\ne\varnothing$ for all $1\le i\le n-1$.
It is possible since the graph with $V=\{i\}_i$ and $E=\{(i,j):U_{t_i}\cap U_{t_j}\ne\varnothing$ is connected.
Choose $p_i\in U_{t_i}\cap U_{t_{i+1}}$ such that they are all dis for $1\le i\le n-1$ and let $p_0=p$, $p_n=q$.

How can we treat intersections?

Therefore, we get a piecewise linear curve which has no self intersection from $p$ to $q$.

\Step[2]{Smoothing the curve}
\end{pf}

\begin{prop}
Let $M$ is an embedded manifold with boundary in $N$.
Any kind of sections on $M$ can be extended on $N$.
\end{prop}

\begin{prop}
Every ring homomorphism $C^\infty(M)\to\R$ is obtained by an evaluation at a point of $M$.
\end{prop}
\begin{pf}
Suppose $\phi:C^\infty(M)\to\R$ is not an evaluation.
Let $h$ be a positive exhaustion function.
Take a compact set $K:=h^{-1}([0,\phi(h)])$.
For every $p\in K$, we can find $f_p\in C^\infty(M)$ such that $\phi(f_p)\ne f_p(p)$ by the assumption.
Summing $(f_p-\phi(f_p))^2$ finitely on $K$ and applying the extreme value theorem, we obtain a function $f\in C^\infty(M)$ such that $f\ge0$, $f|_K>1$, and $\phi(f)=0$.
Then, the function $h+\phi(h)f-\phi(h)$ is in kernel of $\phi$ although it is strictly positive and thereby a unit.
It is a contradiction.
\end{pf}


\begin{prop}
The set of points that is geodesically connected to a point is open.
\end{prop}





\end{document}
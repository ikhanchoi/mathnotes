\documentclass{../../small}
\usepackage{../../ikhanchoi}

\begin{document}
\title{Homological Algebra}
\author{Ikhan Choi\\Lectured by Takeshi Tsuji\\University of Tokyo, Spring 2023}
\maketitle
\tableofcontents

\newpage
\section{Day 1: April 6}

\section*{1. Modules}

References: Atsushi Shiho, Yukiyoshi Kawada

\subsection*{1.1. $R$-modules}
\begin{defn}
Let $R$ be a ring with 1.
A (left) $R$-module is an abelian group $M$ with a map $R\times M\to M:(a,x)\mapsto ax$ satisfying $a(x+y)=ax+ay$, $(a+b)x=ax+bx$, $(ab)x=a(bx)$, $1x=x$.
\end{defn}
\begin{ex}
\begin{parts}
\item Every abelian group is a $\Z$-module. The $R$-module structures on an abelian group $M$ has 1-1 correspondence with the ring homomorphisms $R\to\End_\Z(M)$.
\item $M=C^\infty(\R)$, $R=\R[T]$ a polynomial ring, $R\times M\to M:(P(T),f(x))\mapsto P(\dd{x})f(x)$.
\end{parts}
\end{ex}

\begin{defn}
A (left) $R$-submodule of $M$ is a subgroup $N\subset M$ such that $ax\in N$ for $a\in R$, $x\in N$.
A (left) $R$-homomorphism is a group homomorphism $M\to N$ which preserves the action of $R$.
\end{defn}
\begin{ex}
\begin{parts}
\item $M=C^\infty(\R)$, $R=\R[T]$, then $\f:M\to M:f(x)\mapsto f(x+1)$ is an $R$-homomorphism.
\end{parts}
\end{ex}

\begin{defn}
Let $f:M\to N$ be an $R$-homomorphism.
The kernel of $f$ is $\ker f:=\{x\in M:f(x)=0\}\xrightarrow{i}M$, and the cokernel of $f$ is $N\xrightarrow{p}\coker f:=N/\im f$, where the image is $\im f:=\{f(x)\in N:x\in M\}\xrightarrow{j}N$.
\begin{cd}
\ker f \ar{r}{i}& M \ar{rr}{f}\ar{dr}{f}&& N \ar{r}{p}& \coker{f}\\
&&\im f \ar{ur}{j}&&
\end{cd}
On each of them, there is a unique $R$-module structure such that the each map $i,j,p$ becomes an $R$-homomorphism respectively.
\end{defn}

\begin{thm}[Universal property]
For the above setting, note that $fi=0$ and $pf=0$.
If an $R$-homomorphism $g:M'\to M$ satisfies $fg=0$, then there is a unique $R$-homomorphism $h:M'\to\ker f$ such that $g=ih$.
If an $R$-homomorphism $g:N\to N'$ satisfies $gf=0$, then there is a unique $R$-homomorphism $h:\coker f\to N'$ such that $g=hp$.
\end{thm}

\subsection{Commutative diagrams and exact sequences}

\begin{defn}[Diagram]
Among some $R$-modules suppose we have $R$-homomorphisms as the following diagram:
\begin{cd}
M_1\ar{r}{f_1}\ar[swap]{d}{f_3} & M_2 \ar[swap]{ld}{f_2} \ar{d}{g_1}\\
M_3\ar{r}{g_2}&M_4\qquad.
\end{cd}
Then, if the compositions sharing each source and target coincide, then we say the diagram is commutative.
For example, we say the triangle formed by $M_2,M_3,M_4$ is commutative iff $g_1=g_2f_2$.
\end{defn}

\begin{defn}[Sequence]
A sequence is a diagram of $R$-modules placed linearly as
\begin{es}
\cdots\>M_n\>{f_n} M_{n+1}\>{f_{n+1}} M_{n+2} \>\cdots.
\end{es}
If $\im f_n=\ker f_{n+1}$ for all $n$, then we say the sequence is exact.
\end{defn}

\begin{ex}
\begin{parts}
\item $f:M\to N$ is injective iff $0\to M\xrightarrow{f}N$ is exact. $f:M\to N$ is surjective iff $M\xrightarrow{f}N\to0$ is exact.
\item
\begin{es}
	0 \> \ker f \>{i} M \>{f} N \>{p} \coker f \> 0
\end{es}
is exact.
\item
\begin{es}
	0 \> \Z \>{n} \Z \> \Z/n\Z \> 0
\end{es}
is exact.
\item 
\begin{es}
	0 \> \R\cos x\oplus\R\sin x \>{n} C^\infty(\R) \>{\dd[2]{x}+1} C^\infty(\R) \> 0
\end{es}
is exact.
\end{parts}
\end{ex}

\begin{prop}[Five lemma]
Suppose each row is exact in the folloing commutative diagram:
\begin{cd}
M_1 \ar{r}{f_1}\ar{d}{h_1} & M_2 \ar{r}{f_2}\ar{d}{h_2} & M_3 \ar{r}{f_3}\ar{d}{h_3} & M_4 \ar{r}{f_4}\ar{d}{h_4} & M_5 \ar{d}{h_5}\\
N_1 \ar{r}{g_1} & N_2 \ar{r}{g_2} & N_3 \ar{r}{g_3} & N_4 \ar{r}{g_4} & N_5 .
\end{cd}
Then,
\begin{parts}
\item
\begin{cd}
\,\ar[two heads]{d} & \,\ar[hook]{d} & \,\ar[hook,dashed]{d} & \,\ar[hook]{d} & \, \\ \,&\,&\,&\,&\,
\end{cd}
\item
\begin{cd}
\, & \, \ar[two heads]{d} & \, \ar[two heads,dashed]{d} & \, \ar[two heads]{d} & \, \ar[hook]{d}\\ \,&\,&\,&\,&\,
\end{cd}
\item
\begin{cd}
\, \ar[two heads]{d} & \, \ar{d}{\sim} & \, \ar[dashed]{d}{\sim} & \, \ar{d}{\sim} & \, \ar[hook]{d}\\ \,&\,&\,&\,&\,
\end{cd}
\end{parts}
\end{prop}
\begin{pf}
(a)
We will show $x\in\ker h_3$ is in the image of $f_2f_1$:
$h_3(x)=0\implies f_3(x)=0\implies x=f_2(y)\implies g_2h_2(y)=0\implies h_2(y)=g_1(z)\implies z=h_1(u)\implies f_1(u)=y$. Then, $x=f_2(y)=f_2f_1=0$.

(b)
Similar.

(c)
Clear.
\end{pf}

\begin{prop}[Snake lemma]
Suppose the second and the third rows are exact in the following commutative diagram:
\begin{cd}
&\ker h_1&\ker h_2&\ker h_3&\\
&M_1&M_2&M_3&0\\
0&N_1&N_2&N_3&\\
&\coker h_1&\coker h_2&\coker 3&\\
\end{cd}
\begin{parts}
\item There is $\delta:\ker h_3\to\coker h_1$ such that
\begin{es}
\ker h_1 \>{k_1} \ker h_2 \>{k_2} \ker h_3 \>{\delta} \coker h_1 \>{l_1} \coker h_2 \>{l_2} \coker 3
\end{es}
is exact.
Here $k_1,k_2,l_1,l_2$ are induced from $f_1,f_2,g_1,g_2$, respectively.
The element $\delta(x)$ is determined by $u$ such that $x=f_2(y)$, $z=h_2(y)$, $z=g_1(u)$, and we can check that $u$ does not depend on the choice of $y$.
\item
\end{parts}
\end{prop}
\begin{pf}
(a)
We have to show the well-definedness of $\delta$, $\ker\subset\im$, and $\im\subset \ker$.
Skip.
\end{pf}

In the general abelian cateogies, the five lemma and the snake lemma hold but the proofs become more complicated.


\subsection{Direct sum, direct product, inductive limit, direct limit}

\begin{defn}
Let $M_\lambda$ be a family of $R$-modules.
The direct product is
\[\prod_\lambda M_\lambda:=\{(x_\lambda):x_\lambda\in M_\lambda\}\twoheadrightarrow M_\lambda,\]
and the direct sum is the submodule of the direct product such that
\[\bigoplus_\lambda M_\lambda:=\{(x_\lambda):x_\lambda=0\text{ but finitely many}\}\hookleftarrow M_\lambda\]
\end{defn}
\begin{prop}[Universal property]
\begin{parts}
\item For $f_\mu:M_\mu\to N$ there is unique $f:\bigoplus_\lambda M_\lambda\to N$ such that $fi_\mu=f_\mu$.
\item For $g_\mu:N\to M_\mu$ there is unique $g:N\to\prod_\lambda M_\lambda$ such that $p_\mu g=g_\mu$.
\end{parts}
\end{prop}
\begin{rmk}
\begin{parts}
\item The direct sum and direct product is unique up to isomorphism by the universal property.
\item For $R$-homomorphisms $f_\lambda:M_\lambda\to N_\lambda$ we can induce $\prod_\lambda f_\lambda:\prod_\lambda M_\lambda\to\prod_\lambda N_\lambda$ and $\bigoplus_\lambda f_\lambda:\bigoplus_\lambda M_\lambda\to\bigoplus_\lambda N_\lambda$.
\item In the category of modules, even for infinite indices, direct product and sum commute with the kernel, cokernel, and image. In an abelian category, we may not have infinie direct product/sum.
\item exactness also preserved under products and sums
\end{parts}
\end{rmk}


\newpage
\section{Day 2: April 13}

Let $(\Lambda,\prec)$ be a totally ordered set.
By a direct system, we refer the family of $R$-modules $M_\lambda$ for each $\lambda\in\Lambda$ and the family of $R$-homomorphisms $\tau_{\mu\lambda}:M_\lambda\to M_\mu$ for $\lambda\prec\mu$ such that $\tau_{\lambda\lambda}=\id_{M_\lambda}$ and $\tau_{\kappa\lambda}=\tau_{\kappa\mu}\tau_{\mu\lambda}$ for $\lambda\prec\mu\prec\kappa$.

\begin{ex*}\hspace{-5pt}\textbf{1.3.3.}\,
\begin{parts}
\item Let $\Lambda=\N$ and $n\prec m\Leftrightarrow n\mid m$, $M_n=\Z$ and $\tau_{mn}(z):M_n\to M_m:z\mapsto(m/n)z$.
\item Let $M$ be a $R$-module, $\{M_\lambda\}$ are finitely generated $R$-submodules of $M$, and $\lambda\prec\mu\Leftrightarrow M_\lambda\subset M_\mu$, with $\tau_{\mu\lambda}$ inclusions.
\end{parts}
\end{ex*}

\begin{defn*}
\[\lim_{\longrightarrow}M_\lambda=\lim_{\longrightarrow}(M_\lambda,\tau_{\mu\lambda}):=\coker(\bigoplus_{\substack{(\lambda,\mu)\in\Lambda\\\lambda\prec\mu}} M_\lambda\xrightarrow{\Phi}\bigoplus_{\lambda\in\Lambda}M_{\lambda}),\]
where $\Phi((x_{\lambda\mu}))=\sum_{\lambda\prec\mu}\iota_\mu\tau_{\mu\lambda}(x_{\lambda\mu})-\iota_\lambda(x_{\lambda\mu})$, and $\iota_\lambda:M_\lambda\to\bigoplus_\lambda M_\lambda$ is a componentwise embedding.
That is, we want to identify $x\in M_\lambda$ and $\tau_{\mu\lambda}(x)\in M_\mu$ with the map $\Phi$.
\end{defn*}
\begin{prop*}\hspace{-5pt}\emph{\textbf{1.3.4.}}\,
Let $\tau_\mu:M_\mu\xrightarrow{\iota_\mu}\bigoplus_\lambda M_\lambda\twoheadrightarrow\lim_{\longrightarrow}M_\lambda$.
\begin{parts}
\item $\tau_\mu=\tau_\kappa\tau_{\kappa\mu}$.
\item $M_\mu\xrightarrow{f_\mu} N$ for $\mu\in\Lambda$ are $R$-homomorphisms, and they satisfy $f_\mu=f_\kappa\tau_{\kappa\mu}$. Then, there is a unique $f:\lim_{\longrightarrow}M_\lambda\to N$ such that $f_\mu=f\tau_\mu$
\end{parts}
\end{prop*}

For each example in 1.3.3, $\Q$ and $M$ are the direct limits because it satisfies the universal property (1.3.4(b))

\begin{rmk*}
(1) The direct limit is unique by the universal property up to isomorphism.

(2) If $f_\lambda:M_\lambda\to M_\lambda'$ are $R$-homomorphism such that
\begin{cd}
M_\lambda \ar{r}{f_\lambda} \ar{d} & M\lambda' \ar{d}\\
M_\mu \ar{r}{f_\mu} & M_\mu'
\end{cd}
commutes for all $\lambda\prec\mu$,
then there is a unique $f$ such that
\begin{cd}
\bigoplus_{\lambda\prec\mu}M_\lambda \ar{r}\ar{d}
&\bigoplus_{\lambda}M_\lambda \ar{r}\ar{d}
&\lim_{\longrightarrow}M_\lambda \ar{d}{\exists!f} \ar{r}
&0\ar{d}\\
\bigoplus_{\lambda\prec\mu}M_\lambda' \ar{r}
&\bigoplus_{\lambda}M_\lambda' \ar{r}
&\lim_{\longrightarrow}M_\lambda'\ar{r}
&0
\end{cd}
commutes, and $f$ is denoted by $\lim_{\longrightarrow}f_\lambda$.
It is by the universal property of cokernel.
\end{rmk*}

\begin{defn*}\hspace{-5pt}\textbf{1.3.6.}\,
A preordered set $\Lambda$ is a directed set if $\forall\lambda,\lambda'\in\Lambda$, there is $\mu\in\Lambda$ such that $\lambda,\lambda'\prec\mu$.
\end{defn*}
\begin{prop*}
If $\Lambda$ is a directed set, then there is a 1-1 correspondence
\[(\coprod_\lambda M_\lambda)/\sim\to\lim_{\longrightarrow}M_\lambda:[x_\lambda]\mapsto\tau_\lambda(x_\lambda),\]
where $x_\lambda\sim y_{\lambda'}$ iff there is $\mu\succ\lambda,\lambda'$ such that $\tau_{\mu\lambda}(x_\lambda)=\tau_{\mu\lambda'}(y_{\lambda'})$.
\end{prop*}

\begin{prop*}
If
\begin{es}
L_\lambda \>{f_\lambda} M_\lambda \>{g_\lambda} N_\lambda \> 0
\end{es}
is exact, then
\begin{es}
\colim L_\lambda \> \colim M_\lambda \> \colim N_\lambda \> 0
\end{es}
is exact.
\end{prop*}
\begin{pf}
The only non-trivial part is the exactness at $\colim M_\lambda$.
We can prove it by diagram chasing.
\end{pf}

\begin{ex*}
Examples of inverse limit
\begin{parts}
\item projection $\Z/p^m\Z\twoheadrightarrow\Z/p^n\Z$ for $m>n$.
\item restriction $C^\infty((-r,r))\to C^\infty((-r',r')$ for $r'>r$.
\end{parts}
\end{ex*}


\newpage
\section{Day 3: April 20}
\begin{ex*}
Limit preserves injectivity, but not surjectivity: although the diagram
\begin{cd}
\Z\ar{r}\ar{d} & \cdots\ar{r} & \Z \ar{r}{\id}\ar[two heads]{d} & \Z \ar[two heads]{d}\\
\Z_p \ar{r} & \cdots\ar{r} & \Z/p^2\Z \ar{r} & \Z/p\Z
\end{cd}
commutes, but  the induced map $\Z\to\Z_p:=\lim_n\Z/p^n\Z$ is not surjective because we have an element $x\in\Z_p$ such that for $\pi_n:\Z_p\to\Z/p^n\Z$ we have $\pi_n(x)\equiv1\pmod{p^n}$ for all $n$.
\end{ex*}
\begin{lem*}[Mittag-Leffler condition]
Let
\[0\to M_n\to N_n\to L_n\to0\]
be a sequence of exact sequences.
Suppose $(M_n)$ satisfies that for each $n$ we have a eventually constant monotonically decreasing sequence
\[M_n\supset\pi_{n,n+1}(M_{n+1})\supset\pi_{n,n+2}(M_{n+2})\supset\cdots\]
of submodules of $M_n$.
Then,
\[0\to \lim M_n\to \lim N_n\to \lim L_n\to 0.\]
\end{lem*}

Note that when we consider the seuqence of kernels $p^n\Z$ of the maps $\Z\to\Z/p^n\Z$ in the above example, we can check the sequence does not satisfy the Mittag-Leffler condition.

\subsection*{1.4. Properties of Hom}

From now on, we always let $R$ be a commutative ring and $M,N$ be a $R$-modules.
Define
\[\Hom_R(M,N):=\{f:M\to N\text{, $R$-homomorphism}\}.\]
It is an $R$-module, which is not the case if $R$ is not commutative.
If $\f:N_1\to N_2$ is an $R$-homomorphism, then
\[\Hom_R(M,N_1)\to\Hom_R(M,N_2):f\mapsto\f\circ f\]
is an $R$-homomorphism.
If $\psi:M_1\to M_2$ is an $R$-homomorphism, then
\[\Hom_R(M_2,N)\to\Hom_R(M_1,N):f\mapsto f\circ\psi\]
is an $R$-homomorphism.
\begin{prop*}\hspace{-5pt}\emph{\textbf{1.4.1.}}
\begin{parts}
\item If
\[0\to N_1\to N_2\to N_3\]
is exact, then
\[0\to\Hom_R(M,N_1)\to\Hom_R(M,N_2)\to\Hom_R(M,N_3)\]
is exact.
\item If
\[M_1\to M_2\to M_3\to0\]
is exact, then
\[0\to\Hom_R(M_3,N)\to\Hom_R(M_2,N)\to\Hom_R(M_1,N)\]
is exact.
\end{parts}
\end{prop*}
\begin{pf}
(a)
If $f_2\in\Hom_R(M,N_2)$ satisfies $\f_2\circ f_2=0$, then by the universal property there exists unique $f_1:M\to N_1$ such that the diagram
\begin{cd}
&&M\ar[dashed,swap]{dl}{\exists!\,f_1}\ar{d}{f_2}\ar{dr}&\\
0\ar{r}&N_1\ar{r}&N_2\ar{r}{\f_2}&N_3
\end{cd}
commutes.

(b)
Similar.
\end{pf}

\begin{ex*}
For
\[0\to\Z\xrightarrow{\cdot n}\Z\to\Z/n\Z\to0,\]
The maps
\[0\cong\Hom(\Z/n\Z,\Z)\to\Hom(\Z/n\Z,\Z/n\Z)\cong\Z/n\Z\]
and
\[\Z\cong\Hom(\Z,\Z)\xrightarrow{\circ(\cdot n)}\Hom(\Z,\Z)\cong\Z\]
are not surjective.
\end{ex*}

\subsection*{1.5. Projective modules}

\begin{defn*}\hspace{-5pt}\textbf{1.5.1.}
An $R$-module is said to be \emph{projective} if for every surjective $\f:N_1\twoheadrightarrow N_2$ and for every $f:M\to N_2$, there is a map $\tilde f:M\to N_1$ such that
\begin{cd}
\, & M \ar{d}{f}\ar[dashed,swap]{dl}{\tilde f}\\
N_1 \ar[two heads]{r} & N_2
\end{cd}
commutes, equivalently,
\[\Hom_R(M,N_1)\to\Hom_R(M,N_2)\to0\]
is exact for every exact $N_1\to N_2\to0$.
\end{defn*}

\begin{prop*}\hspace{-5pt}\emph{\textbf{1.5.2.}}\,
If $M$ is a projective module, then $\Hom_R(M,-)$ is an exact functor.
\end{prop*}
\begin{prop*}\hspace{-5pt}\emph{\textbf{1.5.3.}}\,
A direct sum of $R$-modules is projective iff its summands are all projective.
In particular, a free $R$-module is projective.
\end{prop*}

\begin{cor*}\hspace{-5pt}1.5.4.\,
As a corollary, a module $M$ is projective if and only if there is another module $N$ such that $M\oplus N$ is free.
\end{cor*}
\begin{pf}
($\Rightarrow$)
Take generators of $\{e_\lambda\}_\lambda$ of $M$.
Then, for
\[f:\bigoplus_\lambda R\twoheadrightarrow M:(a_\lambda)\mapsto \sum_\lambda a_\lambda e_\lambda,\]
we have an exact sequence
\[0\to\ker f\to\bigoplus_\lambda R\to M\to0,\]
which is right split by applying the definition of projective modules to extend the codomain of $\id_M:M\to M$.

($\Leftarrow$)
Clear from Proposition 1.5.3.
\end{pf}
\begin{cor*}\hspace{-5pt}1.5.5.
Let $R$ be a PID.
Then, since a submodule of a free module is free, so a module is projective if and only if it is free.
\end{cor*}

\subsection*{1.6. Injective modules}

\begin{defn*}\hspace{-5pt}\textbf{1.6.1.}
An $R$-module is said to be injective if for every injective $\f:N_1\hookrightarrow N_2$ and for every $g:N_1\to M$, there is a map $\tilde g:N_2\to M$ such that
\begin{cd}
N_1 \ar{d}{g} \ar[hook]{r}{\f} & N_2 \ar[dashed]{dl}{\tilde g}\\
M  & \,
\end{cd}
commutes, equivalently,
\[\Hom_R(N_2,M)\to\Hom_R(N_1,M)\to0\]
is exact for every exact $0\to N_1\to N_2$.
\end{defn*}


\begin{prop*}\hspace{-5pt}\textbf{\emph{1.6.3.}}
An $R$-module $M$ is injective iff the restriction $\Hom(R,M)\to\Hom(I,M)$ is surjective for every ideal $I$ of $R$.
\end{prop*}
\begin{pf}
($\Rightarrow$) Clear.
($\Leftarrow$) Suppose there is $x\in N_2$ such that $N_2=N_1+Rx$.
Define an ideal $I$ of $R$ such that there is an exact sequence
\[0 \to I \to N_1\oplus R \to N_2 \to 0,\]
in which the first map sends $b$ to $(-bx,b)$ and the second map sends $(y,a)$ to $y+ax$.
Define $h:I\to M$ by $h(b):=g(bx)$ and extend it to $\tilde h:R\to M$.
Define $\tilde g:N_2\to M$ by $\tilde g(y+ax):=g(y)+\tilde h(a)$.
We can check it is well-defined from the exactness of the above defining sequence of $I$.
(To be continued..)
\end{pf}

\begin{cor*}\hspace{-5pt}\textbf{\emph{1.6.4.}}
If $R$ is a PID, then an $R$-module $M$ is injective iff for all $0\ne a\in R$ the map $M\xrightarrow{\cdot a}M$ is surjective.
\end{cor*}
\begin{pf}
Let $I$ be an ideal.
If $I=0$, then clear.
If not, we have $I=aR$ for some $0\ne a\in R$.
Then, the restriction $\Hom(R,M)\to\Hom(I,R)$ is surjective if and only if
\[\begin{array}{ccccccc}
M&\xrightarrow{\sim}&\Hom(R,M)&\to&\Hom(aR,M)&\xrightarrow{\sim}&aM\\
m&\mapsto&(1\mapsto m)&\mapsto&(a\mapsto am)&\mapsto&am
\end{array}\]
is surjective.
\end{pf}

\begin{ex*}
If $R=\Z$, then $\Q$ and $\Q/\Z$ are injective, and $\Z$ and $\Z/n\Z$ are not injective.
\end{ex*}



\newpage
\section{Day 4: April 27}

\begin{pf}[Proof of 1.6.3.]
Let $\cS$ be the set of all pairs $(N,h)$ such that $N_1\subset N\subset N_2$ and
\begin{cd}
N_1 \ar[hook]{r}\ar{d} & N\ar{dl}\\
M
\end{cd}
commutes, and define a partial order $\prec$ such that $(N,h)\prec(N',h')$ if ando only if
\begin{cd}
N \ar[hook]{r}\ar{d} & N'\ar{dl}\\
M
\end{cd}
commutes.
Since the union of a chain belongs to $\cS$, $\cS$ has a maximal element $(N_0,h_0)$ by Zorn's lemma.
If $N_0\subsetneq N_2$, then by taking $x\in N_2\setminus N_0$, we can show $N_0$ is not maximal, so $N_0=N_2$.
\end{pf}

\begin{prop*}\hspace{-5pt}\textbf{\emph{1.6.5.}}
Let $M_\lambda$ be $R$-modules, and $M$ be their product.
Then, $M$ is injective if and only if every $M_\lambda$ is injective.
\end{prop*}
\begin{pf}
Apply the definition on the following diagram to show the first row is surjective:
\begin{cd}
\Hom_R(N_2,\prod_\lambda M_\lambda)\ar{r}\ar{d}{=}
&\Hom_R(N_1,\prod_\lambda M_\lambda)\ar{d}{=}\\
\prod_\lambda\Hom_R(N_2,M_\lambda)\ar{r}
&\prod_\lambda\Hom_R(N_1,M_\lambda).
\end{cd}
\end{pf}

\begin{prop*}\hspace{-5pt}\textbf{\emph{1.6.6.}}
If $M$ is injective $Z$-module, then $\Hom_\Z(R,M)$ is an injective $R$-module.
\end{prop*}
\begin{lem*}\hspace{-5pt}\textbf{\emph{1.6.7.}}
Let $N$ be an $R$-module and $M$ be a $\Z$-module.
Then, $\Hom_\Z(R,M)$ is an $R$-module, and there is a bijection
\[\Hom_R(N,\Hom_\Z(R,M))\cong\Hom_\Z(N,M).\]
\end{lem*}
\begin{pf}[Proof of Proposition 1.6.6.]
Apply Lemma 1.6.7 to show the first row is surjective:
\begin{cd}
\Hom_R(N_2,\Hom_\Z(R,M)) \ar{r} \ar{d}{=}
&\Hom_R(N_1,\Hom_\Z(R,M)) \ar{d}{=} \\
\Hom_\Z(N_2,M) \ar{r} & \Hom_\Z(N_1,M).
\end{cd}
\end{pf}

\begin{thm*}\hspace{-5pt}\textbf{\emph{1.6.8.}}
Every $R$-module $M$ is embedded in an injective $R$-module.
\end{thm*}
\begin{pf}
Suppose $R=\Z$.
The surjectivity of
\[\bigoplus_\lambda\Z\twoheadrightarrow\Hom_\Z(M,\Q/\Z)\]
implies
\[\Hom_\Z(\Hom_\Z(M,\Q/\Z),\Q/\Z)\hookrightarrow\Hom_\Z(\bigoplus_\lambda\Z,\Q/\Z)=\prod_\lambda\Q/\Z.\]
Then, it suffices to prove the canonical map
\[M\to\Hom_\Z(\Hom_\Z(M,\Q/\Z),\Q/\Z))\]
is injective.
For non-zero $x\in M$, by the injectivity of $\Q/\Z$, we can extend a $\Z$-homomorphism $f:\Z x\to\Q/\Z$ satisfying $f(x)\ne0$ to a $\Z$-homomorphism $\tilde f:M\to\Q/\Z$ satisfying $\tilde f(x)=f(x)\ne0$.
Threrfore, we are done.

Now let $R$ be arbitrary commutative ring.
Consider an $R$-homomorphism
\[\Phi:M\hookrightarrow\Hom_\Z(R,M):x\mapsto(a\mapsto ax),\]
which is easily checked to be injective by putting $a=1$.
Let $M'$ be an injective $\Z$-module with an injective $\Z$-homomorphism $M\to M'$, and it induces
\[M\hookrightarrow\Hom_\Z(R,M)\hookrightarrow\Hom_\Z(R,M').\qedhere\]
\end{pf}

% The general failure of surjectivity of Hom(-,-)->Hom(-,-)

% projective
%  direct sum of projectives is projective
%  projective iff direct summand of a free
%  PID: projective iff free

% injective
%  M is injective iff Hom_R(R,M)->Hom_R(I,M) surjective
%  PID: injective iff divisible
%  direct product of injectives is injective
%  Hom_Z(R,M) is injective if M is injective Z-module
%  every module is embedded in injective

\subsection*{1.7. Tensor products}

\begin{defn*}\hspace{-5pt}\textbf{{1.7.1.}}
Let $R$ be a commutative ring, and $M_1,M_2,N$ be $R$-modules.
Let $\Phi:M_1\times M_2\to N$ be an $R$-bilinear map.
If $R$ is non-commutative, then $M_1$ and $M_2$ are set to be right and left $R$-modules resepctively, and $\Phi$ is just a $\Z$-bilinear map but required to satisfy an additional condition $\Phi(-a,-)=\Phi(-,a-)$.
Such $\Phi$ is called a balanced product.

There is an $R$-module such that the following universal property holds: for every balanced product $\Phi:M_1\to M_2\to N$, there is a unique $R$-homomorphism
\begin{cd}
M_1\times M_2 \ar{r}{\otimes} & M\\
& N
\end{cd}
Then, $M$ is called the tensor product of $M_1$ and $M_2$.
\end{defn*}


\begin{pf}
Let $\tilde M$ be a free $R$-module generated by $M_1\times M_2$.
Let $\tilde M_0$ be a $R$-subodule of $\tilde M$ generated by
\begin{gather*}
(p+p',q)-(p,q)-(p',q),\quad (p,q+q')-(p,q)-(p,q'),\\
(ap,q)-a(p,q),\qquad\qquad\quad (p,aq)-a(p,q).
\end{gather*}
Let $M:=\tilde M/\tilde M_0$.
Then, it satisfies the universal property(Exercise!).
\end{pf}

\begin{rmk}\hspace{-5pt}\emph{1.7.2.}
\begin{parts}
\item The tensor product is unique.
\item $M_1\otimes M_2$ is an $R$-module.
\item For $f_1:M_1\to M_1'$ and $f_2:M_2\to M_2'$, we have an $R$-homomorphism $f_1\otimes f_2:M_1\otimes M_2\to M_1'\otimes M_2'$ defined by
\begin{cd}
M_1\times M_2 \ar{r}{\otimes}\ar{d} & M_1\otimes_RM_2 \ar[dashed]{d}{\exists!\,f_1\otimes f_2}\\
M_1'\times M_2'\ar{r}{\otimes} & M_1'\otimes_RM_2'.
\end{cd}
\end{parts}
\end{rmk}

\begin{prop}\hspace{-5pt}\textbf{\emph{1.7.3.}}
\begin{parts}
\item $R\otimes_RM\cong M$.
\item $M\otimes_RR\cong M$.
\item $(\bigoplus_\lambda M_\lambda)\otimes_RN\cong\bigoplus_\lambda(M_\lambda\otimes_RN)$.
\item $N\otimes_R(\bigoplus_\lambda M_\lambda)\cong\bigoplus_\lambda(N\otimes_RM_\lambda)$.
\end{parts}
\end{prop}
\begin{pf}
Use the universal properties for the right-hand sides.
\end{pf}
\begin{prop}\hspace{-5pt}\textbf{\emph{1.7.4.}}
Let $R$ be commutative.
\begin{parts}
\item $(M_1\otimes_RM_2)\otimes_RM_3\cong M_1\otimes_R(M_2\otimes_RM_3)$.
\item $M_1\otimes_RM_2\cong M_2\otimes_RM_1$.
\end{parts}
\end{prop}
\begin{pf}
(a) Use the universal property.

(b) Omitted.
\end{pf}

\begin{prop}\hspace{-5pt}\textbf{\emph{1.7.5.}}
If
\[M_1\xrightarrow{f} M_2\to M_3\to0\]
is exact, then
\[N\otimes_RM_1\to N\otimes_RM_2\to N\otimes_RM_3\to0\]
is exact.
\end{prop}
\begin{pf}
We can construct a unique $\Psi$ by the universal property of $N\otimes M_2$ so that the following diagram commutes.
\begin{cd}
N\otimes_RM_1 \ar{r} & N\otimes_RM_2 \ar{r} & \coker(\id_N\otimes f) \ar{r} & 0\\
N\times M_1 \ar{r}\ar{u}{\otimes} & N\times M_2 \ar[two heads]{r}\ar{u}{\otimes} & N\times M_3 \ar[dashed]{u}{\exists!\,\Psi}&
\end{cd}
Therefore, we can check $\coker(\id_N\otimes f)$ satisfies the universal property.
\end{pf}

\begin{ex*}
We have
\[M/IM\cong(R\otimes M)/(I\otimes M)\cong(R/I)\otimes M.\]
If $M=R/I$, then
\[I/I^2\to R/I\to(R/I)^{\otimes2}\to0\]
is exact, and the first map is not injective.
\end{ex*}

Direct limit.
\[(\colim_\lambda N_\lambda)\otimes_RM\cong\colim_\lambda (N_\lambda\otimes_R M).\]
\begin{pf}
\begin{cd}
(\bigoplus_{\lambda<\mu}N_\lambda)\otimes_RM \ar{r} & (\bigoplus_{\lambda}N_\lambda)\otimes_RM \ar{r} & \coker \ar{r} & 0\\
\bigoplus_{\lambda<\mu}(N_\lambda\otimes_RM) \ar{r}\ar{u}{\otimes} & \bigoplus_{\lambda}(N_\lambda\otimes_RM) \ar[two heads]{r}\ar{u}{\otimes} & \colim_{\lambda}(N_\lambda\otimes_RM) \ar[dashed]{u}{\exists!\,\Psi}&
\end{cd}
\end{pf}

보족: 사진 참고


\end{document}